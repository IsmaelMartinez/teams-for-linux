{
    "id": 3041680500,
    "number": 1696,
    "title": "[Bug]: Problems with tray icon in Arch Linux",
    "body": "### Can you reproduce this bug in the website/PWA?\n\nNot applicable\n\n### Describe the bug\n\nThe tray icon in Arch Linux with GNOME does not update and remains always in the “connecting” state\n\n### What package are you using?\n\naur\n\n### Version\n\n2.0.11\n\n### Reproduction steps\n\n```markdown\n1. Install AUR version\n2. Lauch\n3. The icon never changes\n```\n\n### Expected Behavior\n\n```markdown\n1. Lauch\n2. The icon changes according to the status and notifications\n```\n\n### Debug\n\n```markdown\n% teams-for-linux --webDebug --logConfig='{}'\n\nNo config file found, using default values\nInitialising logger with config: \"{}\"\n08:31:53.647 › File logging at /home/ogarcia/.config/teams-for-linux/logs/main.log with level silly\n08:31:53.648 › Console logging enabled with level silly\n08:31:53.648 › Logger initialised\n08:31:53.648 › configPath: /home/ogarcia/.config/teams-for-linux\n08:31:53.648 › configFile: {}\n08:31:53.649 › Running under Wayland, switching to PipeWire...\n08:31:53.688 › (node:7243) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.\n(Use `teams-for-linux --trace-deprecation ...` to show where the warning was created)\n08:31:53.825 › processArgs: [\n  '/opt/teams-for-linux/teams-for-linux',\n  '--webDebug',\n  '--logConfig={}'\n]\n08:31:53.826 › testing RegExp processArgs false\n08:31:53.826 › testing RegExp processArgs false\n08:31:53.826 › testing RegExp processArgs false\n08:31:53.826 › Waiting for network...\n08:31:53.826 › Testing network using net.request() for https://teams.microsoft.com/v2\n08:31:53.827 › Spellchecker is disabled!\n08:31:54.057 › Network test successful with method https\n08:31:54.057 › Loading initial URL...\n08:31:54.296 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n[7243:0506/083154.298768:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[7243:0506/083154.298808:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n08:31:54.594 › did-frame-finish-load {} true\n08:31:54.595 › did-finish-load\n08:31:55.474 › Badge count set to '0'\n08:31:55.478 › Badge count set to '0'\n08:31:56.375 › Badge count set to '0'\n[7243:0506/083157.462225:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[7243:0506/083157.462264:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n08:31:57.465 › did-frame-finish-load {} false\n08:31:58.717 › Badge count set to '0'\n08:31:58.754 › did-frame-finish-load {} false\n[7243:0506/083158.974078:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[7243:0506/083158.974109:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n08:31:59.037 › did-frame-finish-load {} false\n08:32:04.354 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n08:32:14.356 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n08:32:24.356 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n08:32:34.358 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n^C08:32:36.289 › before-quit\n08:32:36.289 › window close\n08:32:36.405 › window closed\n08:32:36.405 › will-quit\n08:32:36.405 › quit\n```\n\n### Additional context\n\nTray Icon: \n\n![Icon](https://github.com/user-attachments/assets/b158246c-ddad-43f7-8375-54458831d300)\n\nI have personally noticed this erratic operation when upgrading from 2.0.5 to 2.0.11 (I skipped a few in between). If I had to bet this bug seems to be caused by the changes introduced in 2.0.10 and I imagine all Arch Linux users will be more or less the same.\n\nUPDATE: I have discovered a workaround to get the icon working normally again. You have to either download the [GNOME trayicons extension](https://github.com/ubuntu/gnome-shell-extension-appindicator) and reload it or lock the session and open it again (which also reloads the extension).",
    "state": "closed",
    "created_at": "2025-05-06T06:39:25+00:00",
    "updated_at": "2025-05-21T12:57:42+00:00",
    "closed_at": "2025-05-21T12:57:41+00:00",
    "user": "ogarcia",
    "assignee": "IsmaelMartinez",
    "labels": [
        "bug",
        "known issue/workaround"
    ],
    "comments_count": 3,
    "html_url": "https://github.com/IsmaelMartinez/teams-for-linux/issues/1696",
    "is_pull_request": false
}