{
    "id": 3013058655,
    "number": 1668,
    "title": "[Bug]: Online meetings links replace the current instance",
    "body": "### Can you reproduce this bug in the website/PWA?\n\nNot applicable\n\n### Describe the bug\n\nWhen opening an online meeting link, it replaces the Teams view with the meeting, making the rest inaccessible. On leaving the meeting, a message indicating to close the window remains, with no way of resuming the old view: one needs then to restart `teams-for-linux`\n\n### What package are you using?\n\ndeb\n\n### Version\n\n2.0.9\n\n### Reproduction steps\n\n```markdown\n1. Open a `https://teams.microsoft.com/l/meetup-join/19%3ameeting_<***>` link with `teams-for-linux` (with a default MIME association et, merely clicking on it)\n2. Notice the current view/window being replaced by the meeting one\n3. Click on `Leave` and notice there is no way of resuming the old view\n4. Closing the window (cross) and reopening the Teams with clicking on the taskbar icon keeps reopening the meetup view: no way to access the normal Teams view.\n```\n\n### Expected Behavior\n\n```markdown\n1. Open a `https://teams.microsoft.com/l/meetup-join/19%3ameeting_<***>` link with `teams-for-linux` (with a default MIME association et, merely clicking on it)\n2. The meeting opens in a new windows\n3. Leaving the meeting and/or closing the windows does not impact the \"main\" window\n```\n\n### Debug\n\n```markdown\n$ teams-for-linux --webDebug --logConfig='{}'\nInitialising logger with config: \"{}\"\n09:47:22.597 › File logging at /home/<***>/.config/teams-for-linux/logs/main.log with level silly\n09:47:22.598 › Console logging enabled with level silly\n09:47:22.598 › Logger initialised\n09:47:22.598 › configPath: /home/<***>/.config/teams-for-linux\n09:47:22.598 › configFile: {\n  appIdleTimeout: 600,\n  disableNotificationSound: true,\n  followSystemTheme: true,\n  useMutationTitleLogic: true,\n  onNewWindowOpenMeetupJoinUrlInApp: true\n}\n09:47:22.619 › (node:11256) [DEP0180] DeprecationWarning: fs.Stats constructor is deprecated.\n(Use `teams-for-linux --trace-deprecation ...` to show where the warning was created)\nMESA-INTEL: warning: Performance support disabled, consider sysctl dev.i915.perf_stream_paranoid=0\n\n09:47:22.715 › processArgs: [\n  '/opt/teams-for-linux/teams-for-linux',\n  '--webDebug',\n  '--logConfig={}'\n]\n09:47:22.716 › testing RegExp processArgs false\n09:47:22.717 › testing RegExp processArgs false\n09:47:22.717 › testing RegExp processArgs false\n09:47:22.718 › Waiting for network...\n09:47:22.719 › Testing network using net.request() for https://teams.microsoft.com/v2\n09:47:22.721 › Spellchecker is disabled!\n[11256:0423/094722.790843:ERROR:nss_util.cc(345)] After loading Root Certs, loaded==false: NSS error code: -8018\n09:47:22.849 › Network test successful with method https\n09:47:22.850 › Loading initial URL...\n09:47:23.170 › GetSystemIdleState => IdleTimeout: 600s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n[11256:0423/094723.308510:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[11256:0423/094723.308557:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n09:47:23.660 › did-frame-finish-load {} true\n09:47:23.661 › did-finish-load\n09:47:25.872 › Badge count set to '0'\n09:47:25.881 › Badge count set to '0'\n09:47:26.745 › Badge count set to '0'\n[11256:0423/094728.930942:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[11256:0423/094728.931019:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n09:47:28.931 › did-frame-finish-load {} false\n09:47:30.360 › Badge count set to '0'\n09:47:30.409 › did-frame-finish-load {} false\n[11256:0423/094730.497648:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[11256:0423/094730.497703:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n09:47:30.604 › did-frame-finish-load {} false\n09:47:33.189 › GetSystemIdleState => IdleTimeout: 600s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 2s, IdleState: 'active'\n09:47:43.191 › GetSystemIdleState => IdleTimeout: 600s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n09:47:43.801 › second-instance started\n09:47:43.801 › processArgs: [\n  '/opt/teams-for-linux/teams-for-linux',\n  '--allow-file-access-from-files',\n  '--try-supported-channel-layouts',\n  '--disable-features=HardwareMediaKeyHandling',\n  '--auth-server-whitelist=*',\n  'msteams:/l/meetup-join/19:meeting_<***>@thread.v2/0?context=%7B%22Tid%22%3A%22<***>%22%2C%22Oid%22%3A%22<***>%22%2C%22IsBroadcastMeeting%22%3Atrue%2C%22role%22%3A%22a%22%7D&btype=a&role=a&anon=true&deeplinkId=<***>&launchAgent=join_launcher&type=meetup-join&directDl=true&msLaunch=true&enableMobilePage=true&fqdn=teams.microsoft.com'\n]\n09:47:43.801 › testing RegExp processArgs false\n09:47:43.801 › testing RegExp processArgs false\n09:47:43.801 › testing RegExp processArgs false\n09:47:43.801 › testing RegExp processArgs false\n09:47:43.801 › testing RegExp processArgs false\n09:47:43.802 › testing RegExp processArgs false\n09:47:43.802 › A url argument received with msteams v1 protocol\n09:47:44.256 › GetSystemIdleState => IdleTimeout: 600s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n09:47:44.669 › did-frame-finish-load {} true\n09:47:44.669 › did-finish-load\n09:47:46.344 › GetSystemIdleState => IdleTimeout: 600s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 1s, IdleState: 'active'\n09:47:46.677 › did-frame-finish-load {} true\n09:47:46.677 › did-finish-load\n09:47:47.968 › Badge count set to '0'\n09:47:56.362 › GetSystemIdleState => IdleTimeout: 600s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 2s, IdleState: 'active'\n\nAfter clicking on `Leave`:\n\n09:47:58.579 › window close\n\nOn quitting:\n\n09:51:25.637 › window close\n09:51:25.716 › window closed\n09:51:25.716 › before-quit\n09:51:25.716 › will-quit\n09:51:25.716 › quit\n```\n\n### Additional context\n\nI notice the application already opens a new \"window\" on the link, but the only accessible view is the meetup one.\nIt is otherwise inaccessible (even closing the active window and reopening the main view from the taskbar icon) and merely closed on exit.\nI guess there needs to be a way to switch between both windows, but I have been unable to find how to do so.",
    "state": "closed",
    "created_at": "2025-04-23T07:57:43+00:00",
    "updated_at": "2025-06-24T09:38:41+00:00",
    "closed_at": "2025-06-24T09:38:40+00:00",
    "user": "IncandescentChrysalis",
    "assignee": "IsmaelMartinez",
    "labels": [
        "bug",
        "Stale"
    ],
    "comments_count": 10,
    "html_url": "https://github.com/IsmaelMartinez/teams-for-linux/issues/1668",
    "is_pull_request": false
}