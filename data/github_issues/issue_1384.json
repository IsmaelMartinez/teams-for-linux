{
    "id": 2491945000,
    "number": 1384,
    "title": "Deep links not opening correctly",
    "body": "**Describe the bug**\r\nDeep links (`msteams://`) for meeting invites does not work.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Create a new meeting.\r\n2. Right click on this meeting and choose `Copy link`\r\n3. Open an terminal and run `teams-for-linux msteams:<copied URL without https:>`\r\n4. Teams for Linux will start loading and show a message \"Setting things up for you...\"\r\n5. It finishes loading and nothing happens.\r\n\r\n**Expected behavior**\r\nThe meeting will open as normaly.\r\n\r\n**Desktop:**\r\n - OS: Ubuntu 22.04 LTS\r\n - Installation package: snap\r\n - Version: 1.9.1\r\n\r\n**Debug**\r\nWhen possible, please run the application from the terminal using `--webDebug` and try to reproduce the error.\r\n\r\nThe provide in this section the output from both the terminal and the browser debug console.\r\n\r\nFirst terminal command:\r\n```bash\r\nteams-for-linux --webDebug --logConfig='{}'\r\n```\r\n\r\nSecond terminal command\r\n```bash\r\nteams-for-linux [--webDebug --logConfig='{}'](msteams://teams.microsoft.com/l/meetup-join/****?context=****)\r\n```\r\n\r\nOutput (first terminal):\r\n```\r\n14:21:09.502 › second-instance started\r\n14:21:09.502 › processArgs: [\r\n  '/snap/teams-for-linux/658/teams-for-linux',\r\n  '--no-sandbox',\r\n  '--allow-file-access-from-files',\r\n  '--try-supported-channel-layouts',\r\n  '--disable-features=HardwareMediaKeyHandling',\r\n  '--auth-server-whitelist=*',\r\n  '--enable-ntlm-v2=true',\r\n  'msteams://teams.microsoft.com/l/meetup-join/****?context=****'\r\n]\r\n14:21:09.503 › testing RegExp processArgs false\r\n14:21:09.504 › testing RegExp processArgs false\r\n14:21:09.504 › testing RegExp processArgs false\r\n14:21:09.504 › testing RegExp processArgs false\r\n14:21:09.504 › testing RegExp processArgs false\r\n14:21:09.504 › testing RegExp processArgs false\r\n14:21:09.504 › testing RegExp processArgs false\r\n14:21:09.504 › testing RegExp processArgs false\r\n14:21:09.504 › A url argument received with msteams protocol\r\n14:21:10.005 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\r\n14:21:10.873 › did-frame-finish-load {} true\r\n14:21:10.874 › did-finish-load\r\n14:21:13.396 › Badge count set to '0'\r\n14:21:13.427 › Badge count set to '0'\r\n14:21:15.735 › Badge count set to '0'\r\n14:21:17.982 › did-frame-finish-load {} false\r\n[970273:0828/142117.990386:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\r\n14:21:20.064 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 1s, IdleState: 'active'\r\n```\r\n\r\n![Screenshot from 2024-08-28 14-27-16](https://github.com/user-attachments/assets/65d6e972-9284-4eb8-9519-d5de657e315b)\r\n\r\n**Additional context**\r\n\r\nRunning the command `teams-for-linux https://teams.microsoft.com/l/meetup-join/****?context=****` works correctly, but `teams-for-linux msteams://teams.microsoft.com/l/meetup-join/****?context=****` produces the bug described above.\r\n",
    "state": "closed",
    "created_at": "2024-08-28T12:28:54+00:00",
    "updated_at": "2024-08-29T10:45:16+00:00",
    "closed_at": "2024-08-29T10:45:16+00:00",
    "user": "trygve55",
    "assignee": null,
    "labels": [],
    "comments_count": 2,
    "html_url": "https://github.com/IsmaelMartinez/teams-for-linux/issues/1384",
    "is_pull_request": false
}