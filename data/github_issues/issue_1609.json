{
    "id": 2948769898,
    "number": 1609,
    "title": "[Bug]: Hyprand - Teams window never shows again after being closed (hidden)",
    "body": "### Can you reproduce this bug in the website/PWA?\n\nNo\n\n### Describe the bug\n\nOn Hyprland, hidden (closed) windows never show again.\n\n### What package are you using?\n\nbuild from source, flatpak, AppImage\n\n### Version\n\nreproducible on main\n\n### Reproduction steps\n\n```markdown\n1. Use hyprland desktop\n2. Launch teams-for-linux (make sure tray is enabled)\n3. Close the teams window\n4. Do anything that should open it again, ie.\n  - Launch a second instance\n  - Left click tray icon\n  - Right click tray icon and click open\n5. Observe that window does not open\n```\n\n### Expected Behavior\n\n```markdown\n1. Teams window re-opens\n```\n\n### Debug\n\n```markdown\nLogs don't display anything out of the ordinary\n```\n\n### Additional context\n\nThis can be fixed on Hyprland (and possibly other wayland compositors?) by calling [`window.setVisibleOnAllWorkspaces(true)`](https://www.electronjs.org/docs/latest/api/browser-window#winsetvisibleonallworkspacesvisible-options-macos-linux) before any window.show() calls. This is a common workaround for electron apps in certain wayland compositors. I've tried this myself and it works.\n\nIt's worth noting that it *doesn't* make the window visible on all workspaces in hyprland, but would probably cause unintended side effects on other desktops, so might need a check for the desktop environment before calling.\n\nWe can use `process.env.XDG_CURRENT_DESKTOP === \"Hyprland\"` to check.\n\n\nHappy to submit a PR for this, but hoping someone has a more elegant solution in mind.",
    "state": "closed",
    "created_at": "2025-03-26T08:29:42+00:00",
    "updated_at": "2025-04-22T08:41:45+00:00",
    "closed_at": "2025-04-18T14:13:11+00:00",
    "user": "jakenvac",
    "assignee": "IsmaelMartinez",
    "labels": [
        "bug"
    ],
    "comments_count": 11,
    "html_url": "https://github.com/IsmaelMartinez/teams-for-linux/issues/1609",
    "is_pull_request": false
}