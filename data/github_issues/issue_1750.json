{
    "id": 3205448659,
    "number": 1750,
    "title": "[Bug]: PipeWire Camera Detected, but No Video",
    "body": "### Can you reproduce this bug in the website/PWA?\n\nNo\n\n### Describe the bug\n\nThe application is not showing the video stream from pipewire camera\n\n### What package are you using?\n\nBuilt from source\n\n### Version\n\n2.0.18 Nixpkgs (Unstable), sha256-44K76pNJ0SRKAF8QdHYSi5htQpbP6YNNg6vDkzaeqaI=\n\n### Reproduction steps\n\n```markdown\n1. Start teams-for-linux with this `config.json`\n\n{\n\t\"electronCLIFlags\": [\n\t\t[\"enable-features\", \"WebRtcPipeWireCamera\"]\n\t]\n}\n\n2. Start a meeting and turn on the camera.\n3. No video shows up in the preview panel\n```\n\n### Expected Behavior\n\n```markdown\n1. The video is expected to show up in the preview panel.\n2. Works with Brave and Firefox\n```\n\n### Debug\n\n```markdown\nNo relative outputs in `stdout` while reproducing the error\n\n\nteams-for-linux --webDebug --logConfig='{}'\n\nInitialising logger with config: \"{}\"\n15:00:49.621 › File logging at /home/hftsai/.config/teams-for-linux/logs/main.log with level silly\n15:00:49.622 › Console logging enabled with level silly\n15:00:49.622 › Logger initialised\n15:00:49.622 › configPath: /home/hftsai/.config/teams-for-linux\n15:00:49.622 › configFile: { electronCLIFlags: [ [ 'enable-features', 'WebRtcPipeWireCamera' ] ] }\n15:00:49.624 › Running under Wayland, switching to PipeWire...\n15:00:49.625 › Adding electron CLI flag 'enable-features' with value 'WebRtcPipeWireCamera'\n15:00:49.840 › processArgs: [\n  '/nix/store/zhxsdv9vnh3wz4gcq62cz4642wyszj0f-electron-unwrapped-35.5.1/libexec/electron/electron',\n  '/nix/store/23ksb27z7g46mlmzrr3730pgqzwma5lp-teams-for-linux-2.0.18/share/teams-for-linux/app.asar',\n  '--ozone-platform-hint=auto',\n  '--enable-features=WaylandWindowDecorations',\n  '--enable-wayland-ime=true',\n  '--webDebug',\n  '--logConfig={}'\n]\n15:00:49.841 › testing RegExp processArgs false\n15:00:49.841 › testing RegExp processArgs false\n15:00:49.841 › testing RegExp processArgs false\n15:00:49.841 › testing RegExp processArgs false\n15:00:49.842 › testing RegExp processArgs false\n15:00:49.842 › testing RegExp processArgs false\n15:00:49.842 › testing RegExp processArgs false\n15:00:49.842 › Waiting for network...\n15:00:49.842 › Testing network using net.request() for https://teams.microsoft.com/v2\n15:00:49.844 › Spellchecker is disabled!\n[23901:0705/150049.968688:ERROR:mime_util_xdg.cc(137)] Invalid mime.cache file does not contain null prior to ALIAS_LIST_OFFSET=44\n15:00:50.245 › Network test successful with method https\n15:00:50.246 › Loading initial URL...\n15:00:50.635 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n[23901:0705/150050.636216:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[23901:0705/150050.636260:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n15:00:51.360 › did-frame-finish-load {} true\n15:00:51.361 › did-finish-load\n15:00:53.624 › Badge count set to '0'\n15:00:53.632 › Badge count set to '0'\n15:00:54.509 › Badge count set to '0'\n[23901:0705/150057.432093:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[23901:0705/150057.432187:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n15:00:57.440 › did-frame-finish-load {} false\n15:00:58.835 › Badge count set to '0'\n15:00:58.918 › did-frame-finish-load {} false\n[23901:0705/150059.236932:ERROR:CONSOLE(1)] \"Request Autofill.enable failed. {\"code\":-32601,\"message\":\"'Autofill.enable' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n[23901:0705/150059.237007:ERROR:CONSOLE(1)] \"Request Autofill.setAddresses failed. {\"code\":-32601,\"message\":\"'Autofill.setAddresses' wasn't found\"}\", source: devtools://devtools/bundled/core/protocol_client/protocol_client.js (1)\n15:00:59.347 › did-frame-finish-load {} false\n15:01:00.683 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n15:01:06.803 › Badge count set to '0'\n15:01:07.062 › Badge count set to '0'\n15:01:10.685 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\n15:01:11.900 › Power save is disabled using Electron API.\n[23901:0705/150112.392075:ERROR:object_proxy.cc(576)] Failed to call method: org.freedesktop.DBus.Properties.Get: object_path= /org/freedesktop/UPower: org.freedesktop.DBus.Error.ServiceUnknown: The name org.freedesktop.UPower was not provided by any .service files\n[23901:0705/150112.392340:ERROR:object_proxy.cc(576)] Failed to call method: org.freedesktop.UPower.GetDisplayDevice: object_path= /org/freedesktop/UPower: org.freedesktop.DBus.Error.ServiceUnknown: The name org.freedesktop.UPower was not provided by any .service files\n[23901:0705/150112.392603:ERROR:object_proxy.cc(576)] Failed to call method: org.freedesktop.UPower.EnumerateDevices: object_path= /org/freedesktop/UPower: org.freedesktop.DBus.Error.ServiceUnknown: The name org.freedesktop.UPower was not provided by any .service files\n```\n\n### Additional context\n\nThe camera's active LED is lit on while taking this screenshot:\n<img width=\"1147\" height=\"763\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ab448b61-a15d-4a05-b917-c8e001658d0c\" />\n\nSome errors showed up in the browser's console:\n<img width=\"636\" height=\"256\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/08a1c01f-87a8-43e7-8126-37b0f25e4db3\" />\n\n* Information from `pw-top`\n```\nR  111      0      0  12.9us  13.1us  ???   ???     2     RGBA 960x540 libcamera_input.__SB_.PC00.LNK1\nR  119      0      0  76.7us  91.6us  ???   ???     0     RGBA 960x540  + electron\n```",
    "state": "closed",
    "created_at": "2025-07-05T19:11:51+00:00",
    "updated_at": "2025-07-07T09:29:17+00:00",
    "closed_at": "2025-07-07T09:29:17+00:00",
    "user": "hftsai256",
    "assignee": "IsmaelMartinez",
    "labels": [
        "bug"
    ],
    "comments_count": 4,
    "html_url": "https://github.com/IsmaelMartinez/teams-for-linux/issues/1750",
    "is_pull_request": false
}