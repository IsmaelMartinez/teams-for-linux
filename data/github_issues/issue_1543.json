{
    "id": 2786485770,
    "number": 1543,
    "title": "[Bug]: Can't login because can't load Symantec's MFA (Content Security Policy violations and JavaScript errors)",
    "body": "### Can you reproduce this bug in the PWA?\r\n\r\nNo\r\n\r\n### Describe the bug\r\n\r\nI am unable to enter the MFA code\r\n\r\n### What package are you using?\r\n\r\nflatpak\r\n\r\n### Version\r\n\r\n1.12.5\r\n\r\n### Reproduction steps\r\n\r\n```markdown\r\n1. Click on Teams-for-linux icon\r\n2. Put User & Pass\r\n3. At this step willl put the MFA code but seems doesn't load CSS and scripts content and can´t send the actual code\r\n```\r\n\r\n\r\n### Expected Behavior\r\n\r\n```markdown\r\n1. Click on Teams-for-linux icon\r\n2. Put User & Pass\r\n3. Put the MFA code\r\n4. Logged in Teams\r\n```\r\n\r\n\r\n### Debug\r\n\r\n```markdown\r\n❯ flatpak run com.github.IsmaelMartinez.teams_for_linux --webDebug --logConfig='{}'\r\n[2:0114/082854.936255:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory\r\nNo config file found, using default values\r\nall good with appLogLevels you aren't using them\r\nInitialising logger with config: \"{}\"\r\n08:28:55.075 › File logging at /home/fpastor/.var/app/com.github.IsmaelMartinez.teams_for_linux/config/teams-for-linux/logs/main.log with level silly\r\n08:28:55.076 › Console logging enabled with level silly\r\n08:28:55.076 › Logger initialised\r\n08:28:55.076 › configPath: /home/fpastor/.var/app/com.github.IsmaelMartinez.teams_for_linux/config/teams-for-linux\r\n08:28:55.076 › configFile: {}\r\nLaunchProcess: failed to execvp:\r\nxdg-settings\r\nGtk-Message: 08:28:55.112: Failed to load module \"canberra-gtk-module\"\r\nGtk-Message: 08:28:55.113: Failed to load module \"canberra-gtk-module\"\r\n[2:0114/082855.120463:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory\r\n[2:0114/082855.120487:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory\r\n08:28:55.174 › processArgs: [\r\n  '/app/teams-for-linux/teams-for-linux',\r\n  '--webDebug',\r\n  '--logConfig={}'\r\n]\r\n08:28:55.176 › testing RegExp processArgs false\r\n08:28:55.176 › testing RegExp processArgs false\r\n08:28:55.176 › testing RegExp processArgs false\r\n[2:0114/082855.177134:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory\r\n[2:0114/082855.177157:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory\r\n[2:0114/082855.177167:ERROR:bus.cc(407)] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory\r\n08:28:55.177 › Waiting for network...\r\n08:28:55.177 › Testing network using net.request() for https://teams.microsoft.com\r\n08:28:55.179 › Spellchecker is disabled!\r\n08:28:55.489 › Network test successful with method https\r\n08:28:55.893 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 1s, IdleState: 'active'\r\n[2:0114/082855.895975:ERROR:object_proxy.cc(576)] Failed to call method: org.freedesktop.ScreenSaver.GetActive: object_path= /org/freedesktop/ScreenSaver: org.freedesktop.DBus.Error.NotSupported: This method is not implemented\r\n08:28:56.277 › did-frame-finish-load {} true\r\n08:28:56.278 › did-finish-load\r\n08:28:57.201 › did-frame-finish-load {} false\r\n08:28:57.532 › assignOnDidFailLoadEventHandler : {} - -3 - \r\n08:28:57.718 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\r\n08:28:57.740 › did-frame-finish-load {} true\r\n08:28:57.741 › did-finish-load\r\n08:28:57.802 › did-frame-finish-load {} false\r\n08:29:04.926 › did-frame-finish-load {} false\r\n08:29:07.726 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\r\n08:29:10.501 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\r\n08:29:10.502 › did-frame-finish-load {} true\r\n08:29:10.502 › did-finish-load\r\n08:29:10.599 › did-frame-finish-load {} true\r\n08:29:10.599 › did-finish-load\r\n08:29:10.603 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 0s, IdleState: 'active'\r\n08:29:12.969 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 2s, IdleState: 'active'\r\n08:29:12.971 › did-frame-finish-load {} true\r\n08:29:12.971 › did-finish-load\r\n08:29:13.861 › GetSystemIdleState => IdleTimeout: 300s, IdleTimeoutPollInterval: 10s, ActiveCheckPollInterval: 2s, IdleTime: 3s, IdleState: 'active'\r\n08:29:14.593 › did-frame-finish-load {} true\r\n08:29:14.593 › did-finish-load\r\n```\r\n\r\n\r\n### Additional context\r\n\r\n![2025-01-14_08-32](https://github.com/user-attachments/assets/1f1d88d6-c1ee-4202-8ddd-5a7395920c39)\r\n\r\nWe have a lot of team mates that already has this issue. For workaround we are using PWA\r\nMention to have tested on debian 12.9 and Fedora 41, both deb/rpm & flatpak\r\nAll logs and screenshot comes from debian 12.9 and flatpak\r\n",
    "state": "closed",
    "created_at": "2025-01-14T07:55:18+00:00",
    "updated_at": "2025-02-26T09:35:42+00:00",
    "closed_at": "2025-02-26T09:35:41+00:00",
    "user": "fran-pastor",
    "assignee": "IsmaelMartinez",
    "labels": [
        "bug",
        "known issue/workaround",
        "Stale"
    ],
    "comments_count": 15,
    "html_url": "https://github.com/IsmaelMartinez/teams-for-linux/issues/1543",
    "is_pull_request": false
}