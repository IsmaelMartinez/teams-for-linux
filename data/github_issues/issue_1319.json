{
    "id": 2375042193,
    "number": 1319,
    "title": "Possible SE-Linux issue related to execheap (?) ",
    "body": "**Describe the bug**\r\nLast 2 release of t4l.  1.7.3 and 1.7.4  -- but certainly 1.7.4  generates a SE-Linux alert on startup, and then t4l shuts down.     If persistent, I can muscle through a few times and t4l will just start working, while ignoreing the SE-Linux alerts. \r\n\r\nNo I have not applied remedies suggested by SE-Linux alert browser;  I wanted to keep the condition and submit an issue or question to see if this is a problem or not. \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Start t4l\r\n2. observe SE-Alerts \r\n\r\n**Expected behavior**\r\nNO SEAlerts and t4l starts the first time. \r\n\r\n\r\n**Desktop (please complete the following information):**\r\n - OS:  fedora 40  (6.9.5-200.fc40.x86_64 #1 SMP PREEMPT_DYNAMIC) \r\n - DNF/RPM based installed. \r\n - current version:   teams-for-linux-1.7.4-1.x86_64   (but the previous version, seemed to do it also; version before that, didn't seem to this.) \r\n\r\n\r\n\r\n**Additional context**\r\nHere is details from SE-Linux/SETroubleshooting tool:  \r\n\r\nSELinux is preventing teams-for-linux from using the execheap access on a process.\r\n\r\n*****  Plugin allow_execheap (53.1 confidence) suggests   ********************\r\n\r\nIf you do not think teams-for-linux should need to map heap memory that is both writable and executable.\r\nThen you need to report a bug. This is a potentially dangerous access.\r\nDo\r\ncontact your security administrator and report this issue.\r\n\r\n*****  Plugin catchall_boolean (42.6 confidence) suggests   ******************\r\n\r\nIf you want to allow selinuxuser to execheap\r\nThen you must tell SELinux about this by enabling the 'selinuxuser_execheap' boolean.\r\n\r\nDo\r\nsetsebool -P selinuxuser_execheap 1\r\n\r\n*****  Plugin catchall (5.76 confidence) suggests   **************************\r\n\r\nIf you believe that teams-for-linux should be allowed execheap access on processes labeled unconfined_t by default.\r\nThen you should report this as a bug.\r\nYou can generate a local policy module to allow this access.\r\nDo\r\nallow this access for now by executing:\r\n# ausearch -c 'teams-for-linux' --raw | audit2allow -M my-teamsforlinux\r\n# semodule -X 300 -i my-teamsforlinux.pp\r\n\r\nAdditional Information:\r\nSource Context                unconfined_u:unconfined_r:unconfined_t:s0-\r\n                              s0:c0.c1023\r\nTarget Context                unconfined_u:unconfined_r:unconfined_t:s0-\r\n                              s0:c0.c1023\r\nTarget Objects                Unknown [ process ]\r\nSource                        teams-for-linux\r\nSource Path                   teams-for-linux\r\nPort                          <Unknown>\r\nHost                          wellandf3\r\nSource RPM Packages           \r\nTarget RPM Packages           \r\nSELinux Policy RPM            selinux-policy-targeted-40.23-1.fc40.noarch\r\nLocal Policy RPM              selinux-policy-targeted-40.23-1.fc40.noarch\r\nSelinux Enabled               True\r\nPolicy Type                   targeted\r\nEnforcing Mode                Enforcing\r\nHost Name                     wellandf3\r\nPlatform                      Linux wellandf3 6.9.5-200.fc40.x86_64 #1 SMP\r\n                              PREEMPT_DYNAMIC Sun Jun 16 15:47:09 UTC 2024\r\n                              x86_64\r\nAlert Count                   369\r\nFirst Seen                    2024-06-26 06:39:05 EDT\r\nLast Seen                     2024-06-26 06:40:53 EDT\r\nLocal ID                      5a0cac7b-9d47-4953-9379-fadf8ef99c1a\r\n\r\nRaw Audit Messages\r\ntype=AVC msg=audit(1719398453.942:756): avc:  denied  { execheap } for  pid=13241 comm=\"teams-for-linux\" scontext=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 tcontext=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 tclass=process permissive=0\r\n\r\n\r\nHash: teams-for-linux,unconfined_t,unconfined_t,process,execheap\r\n",
    "state": "closed",
    "created_at": "2024-06-26T11:07:26+00:00",
    "updated_at": "2024-08-23T17:54:52+00:00",
    "closed_at": "2024-08-23T17:54:46+00:00",
    "user": "fwelland",
    "assignee": null,
    "labels": [
        "known issue/workaround"
    ],
    "comments_count": 7,
    "html_url": "https://github.com/IsmaelMartinez/teams-for-linux/issues/1319",
    "is_pull_request": false
}